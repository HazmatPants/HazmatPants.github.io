<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HazmatPants Minecraft Server</title>
    <link href="style.css" rel="stylesheet" type="text/css" media="all">
    <style>
      a {
        color: rgb(88, 88, 255);
        text-decoration: none;
      }

      li {
        color: rgb(201, 201, 255);
        text-decoration: none;
      }
    </style>
</head>
  <body>
    <h1><u>Schrabidium Apple</u></h1>
    <p>
      IP: friend-considering.gl.joinmc.link<br>
      Hardware: Raspberry Pi 400<br>
      Version: Forge 1.12.2-14.23.5.2860
    </p>
    <br>
    <p id="status">Pinging server...</p>
    <p id="players"></p>
    <div id="mods"></div>
    <br>
    <script>
        async function checkServerStatus() {
            const serverIP = 'your.server.ip'; // Replace with your server IP
            const response = await fetch(`https://api.mcsrvstat.us/2/${serverIP}`);
            const data = await response.json();

            const statusElement = document.getElementById('status');
            const playersElement = document.getElementById('players');
            const modsElement = document.getElementById('mods');

            if (data.online) {
                statusElement.textContent = 'Server is online!';
                statusElement.style.color = 'green';

                // Show players online
                const playerCount = data.players.online;
                const playerList = data.players.list || []; // Some servers may not return a list

                if (playerCount > 0) {
                  playersElement.innerHTML = `Players online: ${playerCount}<br>`;
                } else {
                  playersElement.innerHTML += 'No players online.';
                }
                if (playerCount > 0) {
                    playersElement.innerHTML += `Players: ${playerList.join(', ')}`;
                } 

                // Show mods list
                const modsList = data.mods || []; // Some servers may not return a mods list
                modsElement.innerHTML = '<strong>Mods:</strong>';
                if (modsList.length > 0) {
                    const ul = document.createElement('ul');
                    modsList.forEach(mod => {
                        const li = document.createElement('li');
                        li.textContent = mod.name; // Display the name of each mod
                        ul.appendChild(li);
                    });
                    modsElement.appendChild(ul);
                } else {
                    modsElement.innerHTML += 'No mods installed.';
                }
            } else {
                statusElement.textContent = 'Server is offline!';
                statusElement.style.color = 'red';
                playersElement.textContent = '';
                modsElement.textContent = '';
            }
        }

        window.onload = checkServerStatus;
    </script>
    <br>
    
    <p>Join this <a href="https://discord.gg/TUrSE6xeDR">Discord Server</a> for more info</p>
  </body>
</html>
